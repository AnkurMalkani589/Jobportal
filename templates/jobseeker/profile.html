{% extends "base.html" %}

{% block content %}
<!-- Page Header -->
<div class="page-header">
    <h1><i class="bi bi-person-vcard"></i>My Profile</h1>
    <div class="page-actions">
        <a href="{{ url_for('jobseeker.dashboard') }}" class="btn btn-outline-secondary">
            <i class="bi bi-arrow-left me-1"></i>Back to Dashboard
        </a>
    </div>
</div>

<form method="POST" enctype="multipart/form-data">
    <div class="row g-4">
        <!-- Basic Information -->
        <div class="col-lg-8">
            <div class="dashboard-card">
                <div class="card-header">
                    <h5><i class="bi bi-person me-2"></i>Basic Information</h5>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label fw-medium">Full Name *</label>
                            <input type="text" name="name" class="form-control" 
                                   value="{{ user.name }}" required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label fw-medium">Email *</label>
                            <input type="email" name="email" class="form-control" 
                                   value="{{ user.email }}" required>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label fw-medium">Phone</label>
                            <input type="tel" name="phone" class="form-control" 
                                   value="{{ profile.phone if profile else '' }}"
                                   placeholder="+1 234 567 8900">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label fw-medium">Years of Experience</label>
                            <input type="number" name="experience_years" class="form-control" 
                                   value="{{ profile.experience_years if profile else '' }}"
                                   min="0" max="50">
                        </div>
                        <div class="col-12">
                            <label class="form-label fw-medium">Address</label>
                            <textarea name="address" class="form-control" rows="2"
                                      placeholder="Your address...">{{ profile.address if profile else '' }}</textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Professional Information -->
            <div class="dashboard-card mt-4">
                <div class="card-header">
                    <h5><i class="bi bi-briefcase me-2"></i>Professional Information</h5>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-12">
                            <label class="form-label fw-medium">Bio / Summary</label>
                            <textarea name="bio" class="form-control" rows="4"
                                      placeholder="Tell us about yourself...">{{ profile.bio if profile else '' }}</textarea>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label fw-medium">Skills (comma-separated)</label>
                            <input type="text" name="skills" class="form-control" 
                                   value="{{ profile.skills if profile else '' }}"
                                   placeholder="e.g., Python, JavaScript, SQL">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label fw-medium">Education</label>
                            <textarea name="education" class="form-control" rows="2"
                                      placeholder="Your education background...">{{ profile.education if profile else '' }}</textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Online Presence -->
            <div class="dashboard-card mt-4">
                <div class="card-header">
                    <h5><i class="bi bi-globe me-2"></i>Online Presence</h5>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label fw-medium">LinkedIn URL</label>
                            <input type="url" name="linkedin" class="form-control" 
                                   value="{{ profile.linkedin if profile else '' }}"
                                   placeholder="https://linkedin.com/in/yourprofile">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label fw-medium">GitHub URL</label>
                            <input type="url" name="github" class="form-control" 
                                   value="{{ profile.github if profile else '' }}"
                                   placeholder="https://github.com/yourprofile">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Resume -->
            <div class="dashboard-card mt-4">
                <div class="card-header">
                    <h5><i class="bi bi-file-pdf me-2"></i>Resume</h5>
                </div>
                <div class="card-body">
                    <div class="mb-3">
                        <label class="form-label fw-medium">Upload Resume (PDF, DOC, DOCX)</label>
                        <input type="file" name="resume" class="form-control" 
                               accept=".pdf,.doc,.docx">
                        {% if profile and profile.resume_path %}
                            <div class="mt-3">
                                <span class="badge bg-success-subtle text-success">
                                    <i class="bi bi-check-circle me-1"></i>Resume uploaded
                                </span>
                                <a href="{{ url_for('static', filename='uploads/' + profile.resume_path) }}" 
                                   target="_blank" class="ms-3">
                                    <i class="bi bi-eye me-1"></i>View current resume
                                </a>
                            </div>
                        {% endif %}
                    </div>
                    <div>
                        <label class="form-label fw-medium">Additional Details</label>
                        <textarea name="additional_details" class="form-control" rows="3"
                                  placeholder="Any other relevant information...">{{ profile.additional_details if profile else '' }}</textarea>
                    </div>
                </div>
            </div>

            <!-- Password Change -->
            <div class="dashboard-card mt-4">
                <div class="card-header">
                    <h5><i class="bi bi-key me-2"></i>Change Password</h5>
                </div>
                <div class="card-body">
                    <p class="text-muted small mb-3">Leave blank to keep current password</p>
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label fw-medium">New Password</label>
                            <input type="password" name="password" class="form-control" 
                                   placeholder="Enter new password">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label fw-medium">Confirm Password</label>
                            <input type="password" name="password_confirm" class="form-control" 
                                   placeholder="Confirm new password">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sidebar Actions -->
        <div class="col-lg-4">
            <div class="dashboard-card">
                <div class="card-header">
                    <h5><i class="bi bi-check-circle me-2"></i>Save Profile</h5>
                </div>
                <div class="card-body">
                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-primary btn-lg">
                            <i class="bi bi-check-circle me-2"></i>Save Profile
                        </button>
                        <a href="{{ url_for('jobseeker.dashboard') }}" class="btn btn-outline-secondary">
                            <i class="bi bi-arrow-left me-2"></i>Back to Dashboard
                        </a>
                    </div>
                </div>
            </div>

            <!-- Profile Tips -->
            <div class="dashboard-card mt-4">
                <div class="card-header">
                    <h5><i class="bi bi-lightbulb me-2"></i>Profile Tips</h5>
                </div>
                <div class="card-body">
                    <ul class="mb-0 text-secondary small">
                        <li class="mb-2">Complete all sections for better visibility</li>
                        <li class="mb-2">List your skills with relevant technologies</li>
                        <li class="mb-2">Upload a professional resume</li>
                        <li class="mb-2">Include your LinkedIn and GitHub profiles</li>
                        <li class="mb-0">Write a compelling bio summary</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</form>
{% endblock %}

